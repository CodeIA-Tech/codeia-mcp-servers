<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arquitetura de Servi√ßos</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      padding: 2rem;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 2rem;
    }
    
    .header h1 {
      margin-bottom: 0.5rem;
    }
    
    .actions {
      background: #f9f9f9;
      padding: 1rem 2rem;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      gap: 1rem;
      align-items: center;
    }
    
    .btn {
      background: #667eea;
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .btn:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    
    .diagram-container {
      padding: 2rem;
      overflow: auto;
    }
    
    .diagram-container svg {
      max-width: 100%;
      height: auto;
      border: 1px solid #e0e0e0;
      border-radius: 4px;
    }
    
    .legend {
      padding: 2rem;
      background: #f9f9f9;
      border-top: 1px solid #e0e0e0;
    }
    
    .legend h3 {
      margin-bottom: 1rem;
      color: #333;
    }
    
    .legend-items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .legend-color {
      width: 30px;
      height: 20px;
      border-radius: 3px;
      border: 1px solid rgba(0,0,0,0.2);
    }
    
    .stats {
      padding: 2rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    
    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.5rem;
      border-radius: 8px;
      text-align: center;
    }
    
    .stat-card h4 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    
    .stat-card p {
      opacity: 0.9;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üèóÔ∏è Arquitetura de Servi√ßos</h1>
      <p>Diagrama gerado automaticamente a partir do Datadog APM</p>
    </div>
    
    <div class="actions">
      <a href="https://app.diagrams.net/#UPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPG14ZmlsZSBob3N0PSJhcHAuZGlhZ3JhbXMubmV0IiBtb2RpZmllZD0iMjAyNS0xMS0wN1QwMDowMjo1Mi4yNDlaIiBhZ2VudD0iRGF0YWRvZyBBUE0gR2VuZXJhdG9yIiB2ZXJzaW9uPSIyMS4wLjAiIHR5cGU9ImRldmljZSI+CiAgPGRpYWdyYW0gbmFtZT0iQXJjaGl0ZWN0dXJlIiBpZD0iYXJjaGl0ZWN0dXJlIj4KICAgIDxteEdyYXBoTW9kZWwgZHg9IjE0MjIiIGR5PSI3OTQiIGdyaWQ9IjEiIGdyaWRTaXplPSIxMCIgZ3VpZGVzPSIxIiB0b29sdGlwcz0iMSIgY29ubmVjdD0iMSIgYXJyb3dzPSIxIiBmb2xkPSIxIiBwYWdlPSIxIiBwYWdlU2NhbGU9IjEiIHBhZ2VXaWR0aD0iMTE2OSIgcGFnZUhlaWdodD0iODI3IiBtYXRoPSIwIiBzaGFkb3c9IjAiPgogICAgICA8cm9vdD4KICAgICAgICA8bXhDZWxsIGlkPSIwIi8+CiAgICAgICAgPG14Q2VsbCBpZD0iMSIgcGFyZW50PSIwIi8+CiAgICAgICAgCiAgICAgIDwvcm9vdD4KICAgIDwvbXhHcmFwaE1vZGVsPgogIDwvZGlhZ3JhbT4KPC9teGZpbGU+" target="_blank" class="btn">
        üìù Editar no draw.io
      </a>
      <button class="btn" onclick="downloadSVG()">
        üíæ Download SVG
      </button>
      <button class="btn" onclick="downloadMxGraph()">
        üìÅ Download draw.io
      </button>
    </div>
    
    <div class="stats">
      <div class="stat-card">
        <h4>0</h4>
        <p>Servi√ßos</p>
      </div>
      <div class="stat-card">
        <h4>0</h4>
        <p>Databases</p>
      </div>
      <div class="stat-card">
        <h4>0</h4>
        <p>Caches</p>
      </div>
      <div class="stat-card">
        <h4>0</h4>
        <p>Depend√™ncias</p>
      </div>
    </div>
    
    <div class="diagram-container">
      <svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7F8C8D"/>
    </marker>
  </defs>
  <rect width="100%" height="100%" fill="#f9f9f9"/>
  
</svg>
    </div>
    
    <div class="legend">
      <h3>Legenda</h3>
      <div class="legend-items">
        <div class="legend-item">
          <div class="legend-color" style="background: #4A90E2;"></div>
          <span>Servi√ßo / Aplica√ß√£o</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #E74C3C;"></div>
          <span>Database</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #F39C12;"></div>
          <span>Cache (Redis, Memcache)</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #27AE60;"></div>
          <span>Queue (Kafka, RabbitMQ)</span>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    const mxGraphData = `<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-11-07T00:02:52.249Z" agent="Datadog APM Generator" version="21.0.0" type="device">
  <diagram name="Architecture" id="architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>`;
    
    function downloadSVG() {
      const svg = document.querySelector('svg');
      const serializer = new XMLSerializer();
      const svgString = serializer.serializeToString(svg);
      const blob = new Blob([svgString], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'arquitetura.svg';
      a.click();
      URL.revokeObjectURL(url);
    }
    
    function downloadMxGraph() {
      const blob = new Blob([mxGraphData], { type: 'application/xml' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'arquitetura.drawio';
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>